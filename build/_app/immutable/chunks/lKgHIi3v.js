import{ae as c,v as l,af as h,ag as g,ah as m,h as d,ai as y,aj as S,ak as p,al as A,am as b}from"./CrkS4tK9.js";import{l as k,a as M}from"./CxKGNNc2.js";function v(r,e,a=!1){if(r.multiple){if(e==null)return;if(!l(e))return h();for(var s of r.options)s.selected=e.includes(n(s));return}for(s of r.options){var i=n(s);if(g(i,e)){s.selected=!0;return}}(!a||e!==void 0)&&(r.selectedIndex=-1)}function N(r){var e=new MutationObserver(()=>{v(r,r.__value)});e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),m(()=>{e.disconnect()})}function O(r,e,a=e){var s=!0;k(r,"change",i=>{var t=i?"[selected]":":checked",u;if(r.multiple)u=[].map.call(r.querySelectorAll(t),n);else{var o=r.querySelector(t)??r.querySelector("option:not([disabled])");u=o&&n(o)}a(u)}),c(()=>{var i=e();if(v(r,i,s),s&&i===void 0){var t=r.querySelector(":checked");t!==null&&(i=n(t),a(i))}r.__value=i,s=!1}),N(r)}function n(r){return"__value"in r?r.__value:r.value}const L=Symbol("is custom element"),q=Symbol("is html");function x(r){if(d){var e=!1,a=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var s=r.value;f(r,"value",null),r.value=s}if(r.hasAttribute("checked")){var i=r.checked;f(r,"checked",null),r.checked=i}}};r.__on_r=a,y(a),M()}}function f(r,e,a,s){var i=E(r);d&&(i[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||i[e]!==(i[e]=a)&&(e==="loading"&&(r[S]=a),a==null?r.removeAttribute(e):typeof a!="string"&&I(r).includes(e)?r[e]=a:r.setAttribute(e,a))}function E(r){return r.__attributes??(r.__attributes={[L]:r.nodeName.includes("-"),[q]:r.namespaceURI===p})}var _=new Map;function I(r){var e=_.get(r.nodeName);if(e)return e;_.set(r.nodeName,e=[]);for(var a,s=r,i=Element.prototype;i!==s;){a=b(s);for(var t in a)a[t].set&&e.push(t);s=A(s)}return e}export{O as b,x as r,f as s};
